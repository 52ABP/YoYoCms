var abp=abp||{};(function(){$.blockUI&&($.extend($.blockUI.defaults,{message:" ",css:{},overlayCSS:{backgroundColor:"#AAA",opacity:.3,cursor:"wait"}}),abp.ui.block=function(n){n?$(n).block():$.blockUI()},abp.ui.unblock=function(n){n?$(n).unblock():$.unblockUI()})})();abp=abp||{},function(n){if(n){abp.ajax=function(t){t=t||{};var i=n.extend(!0,{},abp.ajax.defaultOpts,t);return i.success=undefined,i.error=undefined,n.Deferred(function(r){n.ajax(i).done(function(n,i,u){n.__abp?abp.ajax.handleResponse(n,t,r,u):(r.resolve(n),t.success&&t.success(n))}).fail(function(n){n.responseJSON&&n.responseJSON.__abp?abp.ajax.handleResponse(n.responseJSON,t,r,n):abp.ajax.handleNonAbpErrorResponse(n,t,r)})})};n.extend(abp.ajax,{defaultOpts:{dataType:"json",type:"POST",contentType:"application/json",headers:{"X-Requested-With":"XMLHttpRequest"}},defaultError:{message:"An error has occurred!",details:"Error detail not sent by server."},defaultError401:{message:"You are not authenticated!",details:"You should be authenticated (sign in) in order to perform this operation."},defaultError403:{message:"You are not authorized!",details:"You are not allowed to perform this operation."},defaultError404:{message:"Resource not found!",details:"The resource requested could not found on the server."},logError:function(n){abp.log.error(n)},showError:function(n){return n.details?abp.message.error(n.details,n.message):abp.message.error(n.message||abp.ajax.defaultError.message)},handleTargetUrl:function(n){location.href=n?n:abp.appPath},handleNonAbpErrorResponse:function(n,t,i){if(t.abpHandleError!==!1)switch(n.status){case 401:abp.ajax.handleUnAuthorizedRequest(abp.ajax.showError(abp.ajax.defaultError401),abp.appPath);break;case 403:abp.ajax.showError(abp.ajax.defaultError403);break;case 404:abp.ajax.showError(abp.ajax.defaultError404);break;default:abp.ajax.showError(abp.ajax.defaultError)}i.reject.apply(this,arguments);t.error&&t.error.apply(this,arguments)},handleUnAuthorizedRequest:function(n,t){n?n.done(function(){abp.ajax.handleTargetUrl(t)}):abp.ajax.handleTargetUrl(t)},handleResponse:function(n,t,i,r){if(n)if(n.success===!0)i&&i.resolve(n.result,n,r),t.success&&t.success(n.result,n,r),n.targetUrl&&abp.ajax.handleTargetUrl(n.targetUrl);else if(n.success===!1){var u=null;n.error?t.abpHandleError!==!1&&(u=abp.ajax.showError(n.error)):n.error=abp.ajax.defaultError;abp.ajax.logError(n.error);i&&i.reject(n.error,r);t.error&&t.error(n.error,r);r.status===401&&t.abpHandleError!==!1&&abp.ajax.handleUnAuthorizedRequest(u,n.targetUrl)}else i&&i.resolve(n,null,r),t.success&&t.success(n,null,r);else i&&i.resolve(r),t.success&&t.success(r)},blockUI:function(n){n.blockUI&&(n.blockUI===!0?abp.ui.setBusy():abp.ui.setBusy(n.blockUI))},unblockUI:function(n){n.blockUI&&(n.blockUI===!0?abp.ui.clearBusy():abp.ui.clearBusy(n.blockUI))},ajaxSendHandler:function(n,t,i){var r=abp.security.antiForgery.getToken();r&&(i.headers&&i.headers[abp.security.antiForgery.tokenHeaderName]!==undefined||t.setRequestHeader(abp.security.antiForgery.tokenHeaderName,r))}});n(document).ajaxSend(function(n,t,i){return abp.ajax.ajaxSendHandler(n,t,i)});n.fn.ajaxForm&&(n.fn.abpAjaxForm=function(t){t=t||{};var i=n.extend({},n.fn.abpAjaxForm.defaults,t);return i.beforeSubmit=function(){abp.ajax.blockUI(i);t.beforeSubmit&&t.beforeSubmit.apply(this,arguments)},i.success=function(n){abp.ajax.handleResponse(n,t)},i.complete=function(){abp.ajax.unblockUI(i);t.complete&&t.complete.apply(this,arguments)},this.ajaxForm(i)},n.fn.abpAjaxForm.defaults={method:"POST"});abp.event.on("abp.dynamicScriptsInitialized",function(){abp.ajax.defaultError.message=abp.localization.abpWeb("DefaultError");abp.ajax.defaultError.details=abp.localization.abpWeb("DefaultErrorDetail");abp.ajax.defaultError401.message=abp.localization.abpWeb("DefaultError401");abp.ajax.defaultError401.details=abp.localization.abpWeb("DefaultErrorDetail401");abp.ajax.defaultError403.message=abp.localization.abpWeb("DefaultError403");abp.ajax.defaultError403.details=abp.localization.abpWeb("DefaultErrorDetail403");abp.ajax.defaultError404.message=abp.localization.abpWeb("DefaultError404");abp.ajax.defaultError404.details=abp.localization.abpWeb("DefaultErrorDetail404")})}}(jQuery),function(n){if(n&&n.hik&&n.hik.jtable){var t={_create:n.hik.jtable.prototype._create};n.extend(!0,n.hik.jtable.prototype,{_create:function(){var n=this;t._create.apply(n,arguments);n.options.actions.listAction&&n._adaptListActionforAbp();n.options.actions.createAction&&n._adaptCreateActionforAbp();n.options.actions.updateAction&&n._adaptUpdateActionforAbp();n.options.actions.deleteAction&&n._adaptDeleteActionforAbp()},_adaptListActionforAbp:function(){var t=this,i=t.options.actions.listAction;t.options.actions.listAction=function(r,u){return n.Deferred(function(f){var e=n.extend({},r,{skipCount:u.jtStartIndex,maxResultCount:u.jtPageSize,sorting:u.jtSorting});i.method(e).done(function(n){f.resolve({Result:"OK",Records:n.items||n[i.recordsField],TotalRecordCount:n.totalCount,originalResult:n})}).fail(function(n){t._handlerForFailOnAbpRequest(f,n)})})}},_adaptCreateActionforAbp:function(){var t=this,i=t.options.actions.createAction;t.options.actions.createAction=function(r){return n.Deferred(function(u){var f=n.extend({},r);i.method(f).done(function(n){u.resolve({Result:"OK",Record:i.recordField?n[i.recordField]:n,originalResult:n})}).fail(function(n){t._handlerForFailOnAbpRequest(u,n)})})}},_adaptUpdateActionforAbp:function(){var i=this,t=i.options.actions.updateAction;i.options.actions.updateAction=function(r){return n.Deferred(function(u){var f=n.extend({},r);t.method(f).done(function(n){var i={Result:"OK",originalResult:n};t.returnsRecord&&(i.Record=t.recordField?n[t.recordField]:n);u.resolve(i)}).fail(function(n){i._handlerForFailOnAbpRequest(u,n)})})}},_adaptDeleteActionforAbp:function(){var t=this,i=t.options.actions.deleteAction;t.options.actions.deleteAction=function(r){return n.Deferred(function(u){var f=n.extend({},r);i.method(f).done(function(n){u.resolve({Result:"OK",originalResult:n})}).fail(function(n){t._handlerForFailOnAbpRequest(u,n)})})}},_handlerForFailOnAbpRequest:function(n,t){t&&t.message?n.resolve({Result:"ERROR",Message:t.message}):n.reject(t)},_showError:function(){}});n.extend(!0,n.hik.jtable.prototype.options,{pageList:"minimal"})}}(jQuery);abp=abp||{},function(){moment&&moment.tz&&(abp.timing=abp.timing||{},abp.timing.convertToUserTimezone=function(n){var t=moment(n);return t.clone().tz(abp.timing.timeZoneInfo.iana.timeZoneId)})}();abp=abp||{},function(n){if(n&&n.connection){abp.signalr=abp.signalr||{};abp.signalr.hubs=abp.signalr.hubs||{};abp.signalr.hubs.common=n.connection.abpCommonHub;var t=abp.signalr.hubs.common;t&&(t.client.getNotification=function(n){abp.event.trigger("abp.notifications.received",n)},abp.signalr.connect=function(){n.connection.hub.start().done(function(){abp.log.debug("Connected to SignalR server!");abp.event.trigger("abp.signalr.connected");t.server.register().done(function(){abp.log.debug("Registered to the SignalR server!")})})},abp.signalr.autoConnect===undefined&&(abp.signalr.autoConnect=!0),abp.signalr.autoConnect&&abp.signalr.connect(),n.connection.hub.disconnected(function(){abp.signalr.autoConnect&&setTimeout(function(){n.connection.hub.state===n.signalR.connectionState.disconnected&&n.connection.hub.start()},5e3)}))}}(jQuery);abp=abp||{},function(){$.fn.spin&&(abp.libs=abp.libs||{},abp.libs.spinjs={spinner_config:{lines:11,length:0,width:10,radius:20,corners:1,trail:60,speed:1.2},spinner_config_inner_busy_indicator:{lines:11,length:0,width:4,radius:7,corners:1,trail:60,speed:1.2}},abp.ui.setBusy=function(n,t){var i,r,u;t=t||{};(t.always||t["finally"])&&(t={promise:t});i=$.extend({},t);n?(r=$(n),u=r.find(".abp-busy-indicator"),u.length?u.spin(abp.libs.spinjs.spinner_config_inner_busy_indicator):(i.blockUI!=!1&&abp.ui.block(n),r.spin(abp.libs.spinjs.spinner_config))):(i.blockUI!=!1&&abp.ui.block(),$("body").spin(abp.libs.spinjs.spinner_config));i.promise&&(i.promise.always?i.promise.always(function(){abp.ui.clearBusy(n)}):i.promise["finally"]&&i.promise["finally"](function(){abp.ui.clearBusy(n)}))},abp.ui.clearBusy=function(n){if(n){var t=$(n),i=t.find(".abp-busy-indicator");i.length?i.spin(!1):(abp.ui.unblock(n),t.spin(!1))}else abp.ui.unblock(),$("body").spin(!1)})}();abp=abp||{},function(n){if(sweetAlert&&n){abp.libs=abp.libs||{};abp.libs.sweetAlert={config:{"default":{},info:{type:"info"},success:{type:"success"},warn:{type:"warning"},error:{type:"error"},confirm:{type:"warning",title:"Are you sure?",showCancelButton:!0,cancelButtonText:"Cancel",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes"}}};var t=function(t,i,r){r||(r=i,i=undefined);var u=n.extend({},abp.libs.sweetAlert.config["default"],abp.libs.sweetAlert.config[t],{title:r,text:i});return n.Deferred(function(n){sweetAlert(u,function(){n.resolve()})})};abp.message.info=function(n,i){return t("info",n,i)};abp.message.success=function(n,i){return t("success",n,i)};abp.message.warn=function(n,i){return t("warn",n,i)};abp.message.error=function(n,i){return t("error",n,i)};abp.message.confirm=function(t,i,r){var u={text:t},f;return n.isFunction(i)?r=i:i&&(u.title=i),f=n.extend({},abp.libs.sweetAlert.config["default"],abp.libs.sweetAlert.config.confirm,u),n.Deferred(function(n){sweetAlert(f,function(t){r&&r(t);n.resolve(t)})})};abp.event.on("abp.dynamicScriptsInitialized",function(){abp.libs.sweetAlert.config.confirm.title=abp.localization.abpWeb("AreYouSure");abp.libs.sweetAlert.config.confirm.cancelButtonText=abp.localization.abpWeb("Cancel");abp.libs.sweetAlert.config.confirm.confirmButtonText=abp.localization.abpWeb("Yes")})}}(jQuery);abp=abp||{},function(){if(toastr){toastr.options.positionClass="toast-bottom-right";var n=function(n,t,i,r){toastr[n](t,i,r)};abp.notify.success=function(t,i,r){n("success",t,i,r)};abp.notify.info=function(t,i,r){n("info",t,i,r)};abp.notify.warn=function(t,i,r){n("warning",t,i,r)};abp.notify.error=function(t,i,r){n("error",t,i,r)}}}();